{"styles": [{"id": "pois", "styleSet": "tilezen_points", "when": ["all", ["ref", "Is.POI.Layer"], ["==", ["ref", "POI.Icon.Lookup.MapDisplayFlag"], "yes"], ["any", ["!", ["ref", "Is.POI.TransitStopType.Any"]], ["all", ["ref", "Is.POI.TransitStopType.Any"], ["ref", "Is.POI.TransitAccess"]]]], "technique": "icontext", "description": "POIs with PDS category", "category": ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", "mountain-peak-labels", "National Importance Airport", "national-importance-airport-labels", "poi-labels"], "attr": {"margin": ["ref", "Default.Margin"], "persisting-margin-reducing": ["ref", "Default.PersistingMargin.Reducing"], "placements": "N", "replaceable": true, "new-label-spread-frames": 10, "fade-time": 0.3, "far-threshold": 0.8, "far-threshold-range": 0.015, "break-line": true, "perspective-scale-min": ["ref", "Icon.PerspectiveScaling.Min"], "perspective-scale-max": ["ref", "Icon.PerspectiveScaling.Max"], "font": ["ref", "Default.Font"], "font-size": ["ppi-scale", ["match", ["ref", "POI.Icon.Lookup.Group"], ["Public Transport", "National Importance Airport", "Transport Access"], ["ref", "POI.TransitStop.Label.Size"], "Mountain Peak", ["ref", "POI.MountainPeak.Label.Size"], ["ref", "POI.Label.Size"]], ["ref", "ScalePPI.Labels"]], "font-outline-size": ["ppi-scale", ["match", ["ref", "POI.Icon.Lookup.Group"], ["Public Transport", "National Importance Airport", "Transport Access"], ["ref", "POI.TransitStop.Label.Outline.Width"], "Mountain Peak", ["ref", "POI.MountainPeak.Label.Outline.Width"], ["ref", "POI.Label.Outline.Width"]], ["ref", "ScalePPI.Labels"]], "text-color": ["match", ["ref", "POI.Icon.Lookup.Group"], ["Public Transport", "National Importance Airport", "Transport Access"], ["ref", "POI.TransitStop.Label.Color"], "Mountain Peak", ["ref", "POI.MountainPeak.Label.Color"], ["match", ["ref", "POI.Icon.Lookup.HereCategoryClass"], "accomodation", ["ref", "POI.Accomodation.Label.Color"], "automotive", ["ref", "POI.Automotive.Label.Color"], "business-services-areas", ["ref", "POI.BusinessServicesAreas.Label.Color"], "eat-drink", ["ref", "POI.EatDrink.Label.Color"], "emergency", ["ref", "POI.Emergency.Label.Color"], "entertainment", ["ref", "POI.Entertainment.Label.Color"], "facilities", ["ref", "POI.Facilities.Label.Color"], "leisure-outdoor", ["ref", "POI.LeisureOutdoor.Label.Color"], "shopping", ["ref", "POI.Shopping.Label.Color"], "sights-museum", ["ref", "POI.SightsMuseum.Label.Color"], "public-transport", ["ref", "POI.TransitStop.Label.Color"], "logistics", ["ref", "POI.Logistics.Label.Color"], "generic", ["ref", "POI.Generic.Label.Color"], ["ref", "POI.Generic.Label.Color"]]], "text-outline-color": ["match", ["ref", "POI.Icon.Lookup.Group"], ["Public Transport", "National Importance Airport", "Transport Access"], ["ref", "POI.TransitStop.Label.Outline.Color"], "Mountain Peak", ["ref", "POI.MountainPeak.Label.Outline.Color"], ["match", ["ref", "POI.Icon.Lookup.HereCategoryClass"], "accomodation", ["ref", "POI.Accomodation.Label.Outline.Color"], "automotive", ["ref", "POI.Automotive.Label.Outline.Color"], "business-services-areas", ["ref", "POI.BusinessServicesAreas.Label.Outline.Color"], "eat-drink", ["ref", "POI.EatDrink.Label.Outline.Color"], "emergency", ["ref", "POI.Emergency.Label.Outline.Color"], "entertainment", ["ref", "POI.Entertainment.Label.Outline.Color"], "facilities", ["ref", "POI.Facilities.Label.Outline.Color"], "leisure-outdoor", ["ref", "POI.LeisureOutdoor.Label.Outline.Color"], "shopping", ["ref", "POI.Shopping.Label.Outline.Color"], "sights-museum", ["ref", "POI.SightsMuseum.Label.Outline.Color"], "public-transport", ["ref", "POI.TransitStop.Label.Outline.Color"], "logistics", ["ref", "POI.Logistics.Label.Outline.Color"], "generic", ["ref", "POI.Generic.Label.Outline.Color"], ["ref", "POI.Generic.Label.Outline.Color"]]], "leading-space": ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", ["ref", "POI.MountainPeak.Label.Leading"], ["ref", "POI.Label.Leading"]], "icon-height": ["case", ["==", ["ref", "POI.Icon.Lookup.IconMaxLevel"], 0], 0, ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", ["ppi-scale", ["ref", "POI.MountainPeak.Icon.Size"], ["ref", "ScalePPI.Labels"]], ["Public Transport", "National Importance Airport"], ["ref", "Internal.POI.TransitStop.IconSize"], "Transport Access", ["ref", "Internal.POI.TransitAccess.IconSize"], ["ref", "Internal.POI.IconSize"]]], "dx": 0, "dy": ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", ["/", ["-", ["ppi-scale", ["ref", "POI.MountainPeak.Icon.Size"], ["ref", "ScalePPI.Labels"]]], 2], ["Public Transport", "National Importance Airport"], ["/", ["-", ["*", ["ref", "Internal.POI.TransitStop.IconSize"], ["interpolate", ["linear"], ["tilt"], 0, ["ref", "POI.TransitStop.Icon.AnchorPoint.TopDown"], 45, ["ref", "POI.TransitStop.Icon.AnchorPoint.Tilt"]]]], 2], "Transport Access", ["/", ["-", ["*", ["ref", "Internal.POI.TransitAccess.IconSize"], ["interpolate", ["linear"], ["tilt"], 0, ["ref", "POI.TransitStop.Icon.AnchorPoint.TopDown"], 45, ["ref", "POI.TransitStop.Icon.AnchorPoint.Tilt"]]]], 2], ["/", ["-", ["*", ["ref", "Internal.POI.IconSize"], ["interpolate", ["linear"], ["tilt"], 0, ["ref", "POI.Icon.AnchorPoint.TopDown"], 45, ["ref", "POI.Icon.AnchorPoint.Tilt"]]]], 2]], "text-dx": 0, "text-dy": ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", ["/", ["ppi-scale", ["ref", "POI.MountainPeak.Icon.Size"], ["ref", "ScalePPI.Labels"]], ["ref", "POI.MountainPeak.Label.DistanceFactor"]], ["Public Transport", "National Importance Airport"], ["/", ["ref", "Internal.POI.TransitStop.IconSize"], ["ref", "POI.TransitStop.Label.DistanceFactor"]], "Transport Access", ["/", ["ref", "Internal.POI.TransitAccess.IconSize"], ["ref", "POI.TransitStop.Label.DistanceFactor"]], ["/", ["ref", "Internal.POI.IconSize"], ["ref", "POI.Label.DistanceFactor"]]], "icon-brightness": ["match", ["ref", "POI.Icon.Lookup.Group"], "Mountain Peak", ["ref", "POI.MountainPeak.Icon.Brightness"], ["ref", "POI.Icon.Brightness"]], "text-brightness": ["ref", "POI.Label.Brightness"], "icon-shadow-enabled": ["ref", "POI.Icon.Shadow.Enabled"], "icon-shadow-color": ["ref", "Icon.Shadow.Color"], "icon-shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "icon-shadow-size-increment": ["ref", "POI.Icon.Shadow.SizeIncrement"], "icon-shadow-dx": ["ref", "POI.Icon.Shadow.DistanceX"], "icon-shadow-dy": ["-", ["ref", "POI.Icon.Shadow.DistanceY"]], "icon-shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "icon-shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "image": ["case", ["all", ["<=", ["zoom"], ["ref", "POI.TransitAccess.MiniIcon.MaxZoomLevel"]], ["==", ["get", "pds_category"], "400-4100-0040"]], "mini_public-transport.svg", ["ref", "POI.Icon.Lookup.FileName"]], "z-order": ["+", ["-", 100000, ["*", ["ref", "POI.Icon.Lookup.Priority"], 10]], ["case", ["get", "quality_score"], ["get", "quality_score"], ["-", 25, ["get", "min_zoom"]]]], "iconMinZoomLevel": ["ref", "POI.Icon.Lookup.IconMinLevel"], "iconMaxZoomLevel": ["ref", "POI.Icon.Lookup.IconMaxLevel"], "textMinZoomLevel": ["ref", "POI.Icon.Lookup.TextMinLevel"], "textMaxZoomLevel": ["ref", "POI.Icon.Lookup.TextMaxLevel"]}}]}