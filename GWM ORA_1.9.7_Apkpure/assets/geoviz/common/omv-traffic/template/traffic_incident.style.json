{"styles": [{"id": "traffic_incident_icon", "styleSet": "incident_icons", "when": ["all", ["ref", "Is.Traffic.IncidentIcon.Layer"], ["!", ["ref", "Is.Traffic.PrimaryIncident"]]], "technique": "icon", "description": "Traffic Incident Icons", "category": ["concat", "traffic-icon-", ["get", "kind"]], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "attr": {"far-threshold": 0.9, "far-threshold-range": 0.015, "fade-time": 0.3, "replaceable": true, "new-label-spread-frames": 10, "placements": "T", "perspective-scale-min": ["ref", "Icon.PerspectiveScaling.Min"], "perspective-scale-max": ["ref", "Icon.PerspectiveScaling.Max"], "width": ["case", ["ref", "Is.Traffic.Street.Category0"], ["case", ["==", ["ref", "Traffic.Category0.Width"], 0], 0, ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], ["ref", "Is.Traffic.Street.Category1"], ["case", ["==", ["ref", "Traffic.Category1.Width"], 0], 0, ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], ["ref", "Is.Traffic.Street.Category2"], ["case", ["==", ["ref", "Traffic.Category2.Width"], 0], 0, ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], ["ref", "Is.Traffic.Street.Category3"], ["case", ["==", ["ref", "Traffic.Category3.Width"], 0], 0, ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], ["ref", "Is.Traffic.Street.Category4"], ["case", ["==", ["ref", "Traffic.Category4.Width"], 0], 0, ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]]], "world-line-offset": ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"]], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null], "brightness": ["ref", "Traffic.Icon.Brightness"], "shadow-enabled": ["ref", "Traffic.Icon.Shadow.Enabled"], "shadow-color": ["ref", "Icon.Shadow.Color"], "shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "shadow-size-increment": ["ref", "Icon.Shadow.SizeIncrement"], "shadow-dx": ["ref", "Icon.Shadow.DistanceX"], "shadow-dy": ["-", ["ref", "Icon.Shadow.DistanceY"]], "shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "image": ["ref", "Misc.Icon.Traffic.Lookup.FileName"]}}, {"id": "traffic_incident_line", "styleSet": "traffic_incidents", "when": ["ref", "Is.Traffic.Incident.Layer"], "technique": "line", "description": "Traffic Incident Line", "category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-incidents-closure", "traffic-incidents"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "attr": {"cap": "butt", "color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["ref", "Traffic.Incident.RoadClosure.Color"], ["ref", "Traffic.Incident.Color"]], "fillcolor": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["ref", "Traffic.Incident.RoadClosure.Second.Color"], "#00000000"], "width": ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Width"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Width"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Width"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Width"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Width"]], null], "offset": ["*", ["ref", "Is.Traffic.OffsetDirection"], ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"]], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"]], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null]], "dasharray": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["make-vector", ["world-discrete-scale", ["ref", "Traffic.Incident.Dash.Length"]], ["world-discrete-scale", ["ref", "Traffic.Incident.Gap.Length"]], 0, 0], ["make-vector", ["world-discrete-scale", ["ref", "Traffic.Incident.Gap.Length"]], ["world-discrete-scale", ["ref", "Traffic.Incident.Dash.Length"]], 0, 0]]}}, {"id": "traffic_incident_outline", "styleSet": "traffic_incidents", "when": ["ref", "Is.Traffic.Incident.Layer"], "technique": "line", "description": "Traffic Incident Outline", "category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-incidents-closure-outline", "traffic-incidents-outline"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "attr": {"color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["ref", "Traffic.Incident.RoadClosure.Outline.Color"], ["ref", "Traffic.Incident.Outline.Color"]], "width": ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category4.Outline.Width"]], ["ref", "Traffic.Category4.Width"]]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category3.Outline.Width"]], ["ref", "Traffic.Category3.Width"]]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category2.Outline.Width"]], ["ref", "Traffic.Category2.Width"]]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category1.Outline.Width"]], ["ref", "Traffic.Category1.Width"]]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category0.Outline.Width"]], ["ref", "Traffic.Category0.Width"]]], null], "offset": ["*", ["ref", "Is.Traffic.OffsetDirection"], ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"]], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null]]}}]}